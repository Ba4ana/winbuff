1. Проверка системы:
   - Проверить, что система является Debian, иначе выйти из скрипта.
   - Проверить, что скрипт запущен с правами root, иначе выйти из скрипта.

2. Установка необходимых пакетов:
   - Обновить список пакетов (`apt-get update`).
   - Установить обновления (`apt-get upgrade -y`).
   - Выполнить дистрибутивное обновление (`apt dist-upgrade -y`).
   - Очистить ненужные пакеты (`apt-get autoremove -y`).
   - Очистить кеш (`apt-get clean -y`).
   - Установить пакеты (`sudo, curl, wget, lnav, htop, mc, whois, gnupg2, ncdu`).

3. Настройка истории команд:
   - Добавить в `~/.bash_profile` формат записи времени в истории команд.
   - Установить размер истории в `~/.bashrc` (`HISTSIZE=10000`, `HISTFILESIZE=10000`).
   - Убрать дублирование команд в истории (`HISTCONTROL=ignoreboth:erasedups`).
   - Применить изменения (`source ~/.bashrc` и `source ~/.bash_profile`).
   - Очистить историю команд (`echo>~/.bash_history`).

4. Оптимизация TCP:
   - Включить планировщик `fq` для сетевого трафика.
   - Включить алгоритм контроля перегрузки BBR.
   - Применить изменения (`sysctl -p`).

5. Настройка языка Midnight Commander:
   - Установить пакет `console-cyrillic`.
   - Переконфигурировать локали (`dpkg-reconfigure locales`).

6. Отключение IPv6:
   - Создать файл `/etc/sysctl.d/disable-ipv6.conf` с настройками отключения IPv6.
   - Применить изменения (`sysctl --system`).

7. Ожидание перед установкой Zabbix:
   - Вывести сообщение и ожидать нажатия клавиши пользователем.

8. Настройка переменных для установки Zabbix:
   - Установить переменную `ZABBIX_VERSION=7.0`.
   - Определить версию Debian (`lsb_release -sc`).
   - Задать IP-адрес сервера Zabbix.
   - Получить имя хоста (`hostname`).

9. Установка репозитория Zabbix:
   - Скачать репозиторий Zabbix.
   - Установить скачанный пакет.
   - Обновить список пакетов.

10. Установка Zabbix-агента:
    - Установить `zabbix-agent2`.

11. Настройка Zabbix-агента:
    - Изменить `Server`, `ServerActive`, `Hostname` в `/etc/zabbix/zabbix_agentd.conf`.

12. Управление Zabbix-агентом:
    - Перезапустить `zabbix-agent`.
    - Добавить его в автозапуск.
    - Проверить его статус.

13. Финальное сообщение и ожидание подтверждения:
    - Вывести сообщение об успешной установке.
    - Ожидать нажатия клавиши пользователем.

